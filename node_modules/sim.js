var Socket = require('simple-socket');
var socket = new Socket({host:'127.0.0.1' , port: 80});
connect();
console.log('try to connect');
function connect() {
	socket.connect(connectHandler);
	function connectHandler(err) {
		if(err) {
			console.log('error connecting to serer', err.stack);
			setTimeout(connect,1000);
		}

		socket.onDisconnect =connect;

		socket.onData = function(data) {
			console.log(data);
			if( socket.writable() ) {
				console.log('i can write some data');
			}
		}
	}
}
