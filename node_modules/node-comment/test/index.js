var should = require('should');
var comment = require('../index')();
var util = require('util');

describe('Comment', function() {
  describe('add', function() {
    it('return nothing', function(done) {
      comment.add({
        thread: 'thread one',
        content: 'soooo great!!!'
      }, function(err, firstComment) {
        comment.add({
          thread: 'thread one',
          content: 'just amazing'
        }, function(err) {
          comment.add({
            thread: 'thread one',
            content: 'child of first comment',
            parent: firstComment.index
          }, function(err) {
            done(err);
          });
        });
      });
    });
  });
  describe('get', function() {
    it('return an organize array', function(done) {
      comment.get('thread one', function(err, thread) {
        thread[1].parent.should.eql(thread[0].index);
        done();
      });
    });
  });
});